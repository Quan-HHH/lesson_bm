# 作用域是啥

- react mvvm setState state 数据驱动界面 状态机制
    js中 状态由变量提供 声明空间(闭包 作用域 变量查找 变量提升) 存储值 值修改

- 赋值过程
var a = 2; 是怎么运行的
var 关键字  
a 变量名 identifier 标识符
= 运算符
2 value literal值的描述
;
1. 高级语言
    无法理解、无法执行

## 编译原理
语言执行的底层
操作系统 -> 编译原理
V8 引擎 包含两个东西 编译器 和 解释器
从高级语言 最后形成 二进制文件
1. 分词/词法分析阶段
[var, a , = , 2]  分词后每一个都叫做token 根据这些token 判断有没有语法错误

2. 语法分析阶段
构建一个 语法树
一切程序等于数据结构加算法
编译器也是一段代码 也是要运行的
为什么HTML中要写<div></div> 形成dom树
AST Abstract Syntax Tree 抽象语法树

3. 代码生成(二进制代码 由编译器来做)

经过这三个阶段 内存空间中就

JS 动态编译 运行时编译 不会预编译 但是也会编译 编译完之后 生成机器码 然后运行
java c++ 可以预编译
编译器(Compiler)  可以在编译阶段检测到语法概念 闭包也是在编译阶段就形成的
解释器(Interpreter)

JIT 即时编译器
一个程序在它运行的时候创建并且运行了全新的代码，而并非那些最初作为这个程序的一部分保存在硬盘上的固有的代码。就叫 JIT。

执行上下文
作用域链 也就是`AO链`
函数是一等对象 
每一个函数执行时 会现在自己创建的AO对象上查找属性值
AO 函数的管理者
若找不到 则往父函数的AO上找 再找不到 再上一层AO 直到window(全局作用域)
编译阶段 AO生成

AO上 如果有与函数同名的属性 则会被此函数覆盖


RHS 和 LHS都是出现在引擎对变量进行查找的时候
LHS: 变量赋值 或 写入内存 可以想象未将文本文件保存到硬盘中
RHS: 变量查找 或 从内存中读取 可以想象成从硬盘打开文本文件
LHS和RHS都会在所有作用域种查询
严格模式下 找不到所需的变量 引擎会抛出ReferenceError异常
非严格模式下 LHS会自动创建一个全局变量
查询成功后 如果对变量的值进行不合理的操作 会报TypeError异常